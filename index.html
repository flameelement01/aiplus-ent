<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Aiplus ‚Äî –ü—Ä–æ—Ñ–æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏—è –ø–æ —Ç–∏–ø—É –ª–∏—á–Ω–æ—Å—Ç–∏</title>
<link href="https://fonts.googleapis.com/css2?family=Unbounded:wght@400;700;900&family=Manrope:wght@400;500;600;700&display=swap" rel="stylesheet">
<style>
:root {
  --bg: #f0ede8;
  --card: #ffffff;
  --dark: #1a1a1a;
  --accent: #c8f03c;
  --accent2: #ff6b35;
  --border: rgba(0,0,0,0.1);
  --text: #1a1a1a;
  --muted: #666;
  --radius: 20px;
}
* { box-sizing: border-box; margin: 0; padding: 0; }
body { background: var(--bg); color: var(--text); font-family: 'Manrope', sans-serif; min-height: 100vh; }

/* LAYOUT */
.container { max-width: 860px; margin: 0 auto; padding: 20px 16px 60px; }

/* TOP BAR */
.topbar {
  background: var(--dark);
  color: #fff;
  padding: 14px 24px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  position: sticky;
  top: 0;
  z-index: 100;
}
.logo { font-family: 'Unbounded', sans-serif; font-weight: 900; font-size: 18px; letter-spacing: -1px; }
.logo span { color: var(--accent); }
.badge { background: var(--accent); color: #000; font-size: 11px; font-weight: 700; padding: 4px 10px; border-radius: 20px; }

/* PROGRESS */
.progress-wrap { background: rgba(0,0,0,0.08); border-radius: 4px; height: 5px; margin: 24px 0 8px; }
.progress-bar { background: var(--dark); height: 5px; border-radius: 4px; transition: width 0.4s ease; }
.progress-label { font-size: 12px; color: var(--muted); font-weight: 600; margin-bottom: 20px; }

/* WELCOME SCREEN */
.welcome { text-align: center; padding: 60px 20px; }
.welcome-title { font-family: 'Unbounded', sans-serif; font-size: clamp(32px, 6vw, 56px); font-weight: 900; line-height: 1.05; letter-spacing: -2px; margin-bottom: 20px; }
.welcome-title em { color: var(--accent); background: var(--dark); padding: 2px 12px; border-radius: 8px; font-style: normal; }
.welcome-sub { font-size: 16px; color: var(--muted); max-width: 500px; margin: 0 auto 40px; line-height: 1.7; }

.btn-start {
  background: var(--dark);
  color: var(--accent);
  border: none;
  padding: 22px 50px;
  border-radius: 50px;
  font-family: 'Unbounded', sans-serif;
  font-size: 15px;
  font-weight: 700;
  cursor: pointer;
  transition: transform 0.2s, box-shadow 0.2s;
}
.btn-start:hover { transform: translateY(-2px); box-shadow: 0 10px 30px rgba(0,0,0,0.2); }

/* QUESTION CARD */
.q-card { background: var(--card); border-radius: var(--radius); padding: 40px 36px; border: 1px solid var(--border); box-shadow: 0 10px 40px rgba(0,0,0,0.04); }
.q-dim { font-size: 11px; font-weight: 700; color: var(--muted); text-transform: uppercase; letter-spacing: 2px; margin-bottom: 12px; }
.q-text { font-family: 'Unbounded', sans-serif; font-size: clamp(18px, 3vw, 24px); font-weight: 700; line-height: 1.35; margin-bottom: 32px; letter-spacing: -0.5px; }

.options { display: flex; flex-direction: column; gap: 12px; }
.opt-btn {
  background: #f7f5f0;
  border: 2px solid transparent;
  border-radius: 14px;
  padding: 20px 24px;
  text-align: left;
  cursor: pointer;
  font-family: 'Manrope', sans-serif;
  font-size: 15px;
  font-weight: 600;
  transition: all 0.2s;
}
.opt-btn:hover { border-color: var(--dark); background: #fff; transform: translateX(4px); }

/* RESULT SLIDE */
.slide { border-radius: var(--radius); overflow: hidden; border: 1px solid var(--border); box-shadow: 0 20px 60px rgba(0,0,0,0.12); margin-bottom: 24px; }
.slide-top { background: var(--slide-color, #1a1a1a); color: #fff; padding: 14px 28px; display: flex; justify-content: space-between; font-size: 12px; font-weight: 700; }
.slide-body { display: flex; background: #fff; flex-wrap: wrap; }
.slide-left { flex: 0 0 260px; padding: 32px 28px; background: #fafafa; border-right: 1px solid var(--border); }
.slide-right { flex: 1; min-width: 280px; padding: 32px 28px; }

.mbti-big { font-family: 'Unbounded', sans-serif; font-size: 72px; font-weight: 900; line-height: 1; color: var(--slide-color); margin-bottom: 8px; }
.mbti-name { font-size: 13px; font-weight: 700; color: var(--muted); text-transform: uppercase; margin-bottom: 16px; border-bottom: 1px solid var(--border); padding-bottom: 16px; }

.trait-tag { display: inline-block; padding: 6px 12px; border-radius: 8px; font-size: 11px; font-weight: 800; margin: 0 4px 8px 0; background: #eee; }
.mbti-desc { font-size: 15px; line-height: 1.6; color: var(--muted); margin-bottom: 24px; }

.block-title { font-family: 'Unbounded', sans-serif; font-size: 14px; font-weight: 700; margin-bottom: 14px; display: flex; align-items: center; gap: 8px; }
.pro-list { list-style: none; display: flex; flex-wrap: wrap; gap: 8px; }
.pro-item { background: #f0f0f0; padding: 8px 14px; border-radius: 10px; font-size: 13px; font-weight: 600; }

.ai-block { background: #f9f9f9; border-radius: 16px; padding: 24px; border-left: 4px solid var(--accent2); margin-top: 24px; }
.ai-text { font-size: 14px; line-height: 1.6; color: #333; font-style: italic; }

.subjects-block { background: var(--card); border-radius: var(--radius); padding: 28px; border: 1px solid var(--border); margin-bottom: 24px; }

.restart-btn {
  background: transparent;
  border: 2px solid var(--dark);
  color: var(--dark);
  padding: 16px 32px;
  border-radius: 50px;
  font-family: 'Unbounded', sans-serif;
  font-size: 13px;
  font-weight: 700;
  cursor: pointer;
  display: block;
  margin: 30px auto;
}

/* FORM STYLES */
.form-card { background: var(--card); border-radius: var(--radius); padding: 40px; border: 1px solid var(--border); text-align: center; }
.inp-group { margin-bottom: 16px; text-align: left; }
.inp-group label { display: block; font-size: 12px; font-weight: 700; margin-bottom: 6px; color: var(--muted); }
.inp { width: 100%; padding: 16px; border-radius: 12px; border: 1px solid #ddd; font-family: 'Manrope', sans-serif; font-size: 16px; outline: none; transition: border 0.2s; }
.inp:focus { border-color: var(--dark); }

@media (max-width: 580px) {
  .slide-left { flex: 0 0 100%; border-right: none; border-bottom: 1px solid var(--border); }
}
</style>
</head>
<body>

<div class="topbar">
  <div class="logo">AI<span>PLUS</span></div>
  <div class="badge">–¢–ï–°–¢ –ï–ù–¢ 2025</div>
</div>

<div class="container" id="app"></div>

<script>
// --- –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø ---
const SHEETS_URL = "https://script.google.com/macros/s/AKfycbznOCNApWuWa-GUMFye58wWXEFIjM7lParllT-QOEeaW5_4XzJ5XoslbVCj3j8rRklQLQ/exec"; 

const MBTI_INFO = {
  "INTJ": {
    name: "RATIONAL STRATEGIST", ruName: "–°–¢–†–ê–¢–ï–ì", color: "#6c4fa3",
    traits: [{en:"INTROVERSION",ru:"–ò–Ω—Ç—Ä–æ–≤–µ—Ä—Å–∏—è"},{en:"INTUITION",ru:"–ò–Ω—Ç—É–∏—Ü–∏—è"},{en:"THINKING",ru:"–õ–æ–≥–∏–∫–∞"},{en:"JUDGING",ru:"–ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ"}],
    desc: "–í—ã ‚Äî –∞—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä –∏–¥–µ–π. –û–±–ª–∞–¥–∞–µ—Ç–µ —Ä–µ–¥–∫–∏–º —Å–æ—á–µ—Ç–∞–Ω–∏–µ–º –≥–ª—É–±–æ–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ –∏ —Ä–µ—à–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –≤ –¥–µ–π—Å—Ç–≤–∏—è—Ö.",
    pro: ["IT-–∞—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä", "–ò–Ω–∂–µ–Ω–µ—Ä", "–ê–Ω–∞–ª–∏—Ç–∏–∫", "–£—á–µ–Ω—ã–π"],
    entPair: "–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞ –∏ –§–∏–∑–∏–∫–∞"
  },
  "INTP": {
    name: "RATIONAL PHILOSOPHER", ruName: "–£–ß–ï–ù–´–ô", color: "#6c4fa3",
    traits: [{en:"INTROVERSION",ru:"–ò–Ω—Ç—Ä–æ–≤–µ—Ä—Å–∏—è"},{en:"INTUITION",ru:"–ò–Ω—Ç—É–∏—Ü–∏—è"},{en:"THINKING",ru:"–õ–æ–≥–∏–∫–∞"},{en:"PERCEIVING",ru:"–ü–æ–∏—Å–∫"}],
    desc: "–í–∞—Å –æ—Ç–ª–∏—á–∞–µ—Ç –Ω–µ—É—Ç–æ–ª–∏–º–æ–µ –ª—é–±–æ–ø—ã—Ç—Å—Ç–≤–æ –∏ —Å—Ç—Ä–∞—Å—Ç—å –∫ –ø–æ–∏—Å–∫—É –ª–æ–≥–∏—á–µ—Å–∫–∏—Ö –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–π –≤ –º–∏—Ä–µ.",
    pro: ["Data Scientist", "–ü—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç", "–ú–∞—Ç–µ–º–∞—Ç–∏–∫", "–§–∏–ª–æ—Å–æ—Ñ"],
    entPair: "–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞ –∏ –ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∞"
  },
  "ENTJ": {
    name: "RATIONAL COMMANDER", ruName: "–ö–û–ú–ê–ù–î–ò–†", color: "#6c4fa3",
    traits: [{en:"EXTROVERSION",ru:"–≠–∫—Å—Ç—Ä–∞–≤–µ—Ä—Å–∏—è"},{en:"INTUITION",ru:"–ò–Ω—Ç—É–∏—Ü–∏—è"},{en:"THINKING",ru:"–õ–æ–≥–∏–∫–∞"},{en:"JUDGING",ru:"–ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ"}],
    desc: "–í—ã ‚Äî –ø—Ä–∏—Ä–æ–∂–¥–µ–Ω–Ω—ã–π –ª–∏–¥–µ—Ä. –í–∏–¥–∏—Ç–µ –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω—É—é –ø–µ—Ä—Å–ø–µ–∫—Ç–∏–≤—É –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –æ—Ä–≥–∞–Ω–∏–∑—É–µ—Ç–µ –ª—é–¥–µ–π.",
    pro: ["CEO", "–ü—Ä–µ–¥–ø—Ä–∏–Ω–∏–º–∞—Ç–µ–ª—å", "–õ–æ–≥–∏—Å—Ç", "–¢–æ–ø-–º–µ–Ω–µ–¥–∂–µ—Ä"],
    entPair: "–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞ –∏ –ì–µ–æ–≥—Ä–∞—Ñ–∏—è"
  },
  "ENTP": {
    name: "RATIONAL INVENTOR", ruName: "–ü–û–õ–ï–ú–ò–°–¢", color: "#6c4fa3",
    traits: [{en:"EXTROVERSION",ru:"–≠–∫—Å—Ç—Ä–∞–≤–µ—Ä—Å–∏—è"},{en:"INTUITION",ru:"–ò–Ω—Ç—É–∏—Ü–∏—è"},{en:"THINKING",ru:"–õ–æ–≥–∏–∫–∞"},{en:"PERCEIVING",ru:"–ü–æ–∏—Å–∫"}],
    desc: "–ú–∞—Å—Ç–µ—Ä –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–æ–π –ø—Ä–æ–≤–æ–∫–∞—Ü–∏–∏ –∏ –ø–æ–∏—Å–∫–∞ –∏–Ω–Ω–æ–≤–∞—Ü–∏–æ–Ω–Ω—ã—Ö –ø—É—Ç–µ–π —Ä–µ—à–µ–Ω–∏—è –∑–∞–¥–∞—á.",
    pro: ["–°—Ç–∞—Ä—Ç–∞–ø–µ—Ä", "–ë–∏–∑–Ω–µ—Å-–∞–Ω–∞–ª–∏—Ç–∏–∫", "–ü—Ä–æ–¥–∞–∫—Ç-–º–µ–Ω–µ–¥–∂–µ—Ä", "–ö—Ä–µ–∞—Ç–æ—Ä"],
    entPair: "–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞ –∏ –ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∞"
  },
  "INFJ": {
    name: "IDEALIST COUNSELOR", ruName: "–ê–ö–¢–ò–í–ò–°–¢", color: "#2d7d46",
    traits: [{en:"INTROVERSION",ru:"–ò–Ω—Ç—Ä–æ–≤–µ—Ä—Å–∏—è"},{en:"INTUITION",ru:"–ò–Ω—Ç—É–∏—Ü–∏—è"},{en:"FEELING",ru:"–ß—É–≤—Å—Ç–≤–∞"},{en:"JUDGING",ru:"–ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ"}],
    desc: "–í—ã –æ–±–ª–∞–¥–∞–µ—Ç–µ –≥–ª—É–±–æ–∫–∏–º –ø–æ–Ω–∏–º–∞–Ω–∏–µ–º –ª—é–¥–µ–π –∏ —Ç–∏—Ö–æ–π —Ä–µ—à–∏–º–æ—Å—Ç—å—é —Å–¥–µ–ª–∞—Ç—å –º–∏—Ä –ª—É—á—à–µ.",
    pro: ["–î–∏–ø–ª–æ–º–∞—Ç", "–ü—Å–∏—Ö–æ–ª–æ–≥", "–°–æ—Ü–∏–æ–ª–æ–≥", "–ü–∏—Å–∞—Ç–µ–ª—å"],
    entPair: "–í—Å–µ–º–∏—Ä–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è –∏ –ì–µ–æ–≥—Ä–∞—Ñ–∏—è"
  },
  "INFP": {
    name: "IDEALIST HEALER", ruName: "–ü–û–°–†–ï–î–ù–ò–ö", color: "#2d7d46",
    traits: [{en:"INTROVERSION",ru:"–ò–Ω—Ç—Ä–æ–≤–µ—Ä—Å–∏—è"},{en:"INTUITION",ru:"–ò–Ω—Ç—É–∏—Ü–∏—è"},{en:"FEELING",ru:"–ß—É–≤—Å—Ç–≤–∞"},{en:"PERCEIVING",ru:"–ü–æ–∏—Å–∫"}],
    desc: "–¢–æ–Ω–∫–∞—è, –ø–æ—ç—Ç–∏—á–Ω–∞—è –Ω–∞—Ç—É—Ä–∞. –í—ã —Å—Ç—Ä–µ–º–∏—Ç–µ—Å—å –∫ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π –≥–∞—Ä–º–æ–Ω–∏–∏ –∏ –≤–µ—Ä–Ω–æ—Å—Ç–∏ —Å–≤–æ–∏–º —Ü–µ–Ω–Ω–æ—Å—Ç—è–º.",
    pro: ["–§–∏–ª–æ–ª–æ–≥", "–ü–µ—Ä–µ–≤–æ–¥—á–∏–∫", "–†–µ–¥–∞–∫—Ç–æ—Ä", "–ü—Å–∏—Ö–æ—Ç–µ—Ä–∞–ø–µ–≤—Ç"],
    entPair: "–ò–Ω–æ—Å—Ç—Ä–∞–Ω–Ω—ã–π —è–∑—ã–∫ –∏ –í—Å–µ–º–∏—Ä–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è"
  },
  "ENFJ": {
    name: "IDEALIST TEACHER", ruName: "–£–ß–ò–¢–ï–õ–¨", color: "#2d7d46",
    traits: [{en:"EXTROVERSION",ru:"–≠–∫—Å—Ç—Ä–∞–≤–µ—Ä—Å–∏—è"},{en:"INTUITION",ru:"–ò–Ω—Ç—É–∏—Ü–∏—è"},{en:"FEELING",ru:"–ß—É–≤—Å—Ç–≤–∞"},{en:"JUDGING",ru:"–ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ"}],
    desc: "–•–∞—Ä–∏–∑–º–∞—Ç–∏—á–Ω—ã–π –≤–¥–æ—Ö–Ω–æ–≤–∏—Ç–µ–ª—å. –í—ã —É–º–µ–µ—Ç–µ –≤–∏–¥–µ—Ç—å –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª –≤ –¥—Ä—É–≥–∏—Ö –∏ –≤–µ—Å—Ç–∏ –∏—Ö –∑–∞ —Å–æ–±–æ–π.",
    pro: ["–ü–µ–¥–∞–≥–æ–≥", "PR-–¥–∏—Ä–µ–∫—Ç–æ—Ä", "HR-–¥–∏—Ä–µ–∫—Ç–æ—Ä", "–ö–æ—É—á"],
    entPair: "–ò–Ω–æ—Å—Ç—Ä–∞–Ω–Ω—ã–π —è–∑—ã–∫ –∏ –í—Å–µ–º–∏—Ä–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è"
  },
  "ENFP": {
    name: "IDEALIST CHAMPION", ruName: "–ë–û–†–ï–¶", color: "#2d7d46",
    traits: [{en:"EXTROVERSION",ru:"–≠–∫—Å—Ç—Ä–∞–≤–µ—Ä—Å–∏—è"},{en:"INTUITION",ru:"–ò–Ω—Ç—É–∏—Ü–∏—è"},{en:"FEELING",ru:"–ß—É–≤—Å—Ç–≤–∞"},{en:"PERCEIVING",ru:"–ü–æ–∏—Å–∫"}],
    desc: "–≠–Ω—Ç—É–∑–∏–∞—Å—Ç –∏ –æ–ø—Ç–∏–º–∏—Å—Ç. –ñ–∏–∑–Ω—å –¥–ª—è –≤–∞—Å ‚Äî –ø–æ–ª–µ –¥–ª—è —Ç–≤–æ—Ä—á–µ—Å—Ç–≤–∞ –∏ –Ω–æ–≤—ã—Ö –≤—Å—Ç—Ä–µ—á.",
    pro: ["–ñ—É—Ä–Ω–∞–ª–∏—Å—Ç", "–ú–∞—Ä–∫–µ—Ç–æ–ª–æ–≥", "–ì–∏–¥", "Event-–º–µ–Ω–µ–¥–∂–µ—Ä"],
    entPair: "–ì–µ–æ–≥—Ä–∞—Ñ–∏—è –∏ –ò–Ω–æ—Å—Ç—Ä–∞–Ω–Ω—ã–π —è–∑—ã–∫"
  },
  "ISTJ": {
    name: "GUARDIAN INSPECTOR", ruName: "–ê–î–ú–ò–ù–ò–°–¢–†–ê–¢–û–†", color: "#1a6b8a",
    traits: [{en:"INTROVERSION",ru:"–ò–Ω—Ç—Ä–æ–≤–µ—Ä—Å–∏—è"},{en:"SENSING",ru:"–°–µ–Ω—Å–æ—Ä–∏–∫–∞"},{en:"THINKING",ru:"–õ–æ–≥–∏–∫–∞"},{en:"JUDGING",ru:"–ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ"}],
    desc: "–í—ã ‚Äî –æ–ø–ª–æ—Ç –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏. –¶–µ–Ω–∏—Ç–µ —Ñ–∞–∫—Ç—ã, —Ç—Ä–∞–¥–∏—Ü–∏–∏ –∏ –ø–æ—Ä—è–¥–æ–∫ –≤–æ –≤—Å–µ–º.",
    pro: ["–Æ—Ä–∏—Å—Ç", "–ê—É–¥–∏—Ç–æ—Ä", "–ì–æ—Å—Å–ª—É–∂–∞—â–∏–π", "–°—É–¥—å—è"],
    entPair: "–í—Å–µ–º–∏—Ä–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è –∏ –û—Å–Ω–æ–≤—ã –ø—Ä–∞–≤–∞"
  },
  "ISFJ": {
    name: "GUARDIAN PROTECTOR", ruName: "–ó–ê–©–ò–¢–ù–ò–ö", color: "#1a6b8a",
    traits: [{en:"INTROVERSION",ru:"–ò–Ω—Ç—Ä–æ–≤–µ—Ä—Å–∏—è"},{en:"SENSING",ru:"–°–µ–Ω—Å–æ—Ä–∏–∫–∞"},{en:"FEELING",ru:"–ß—É–≤—Å—Ç–≤–∞"},{en:"JUDGING",ru:"–ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ"}],
    desc: "–¢–∏—Ö–∏–π –∏ –ø—Ä–µ–¥–∞–Ω–Ω—ã–π –ø–æ–º–æ—â–Ω–∏–∫. –í—ã —Å–æ–∑–¥–∞–µ—Ç–µ —É—é—Ç –∏ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –æ–∫—Ä—É–∂–∞—é—â–∏—Ö.",
    pro: ["–í—Ä–∞—á", "–§–∞—Ä–º–∞—Ü–µ–≤—Ç", "–£—á–∏—Ç–µ–ª—å", "–ê—Ä—Ö–∏–≤–∞—Ä–∏—É—Å"],
    entPair: "–ë–∏–æ–ª–æ–≥–∏—è –∏ –•–∏–º–∏—è"
  },
  "ESTJ": {
    name: "GUARDIAN SUPERVISOR", ruName: "–ú–ï–ù–ï–î–ñ–ï–†", color: "#1a6b8a",
    traits: [{en:"EXTROVERSION",ru:"–≠–∫—Å—Ç—Ä–∞–≤–µ—Ä—Å–∏—è"},{en:"SENSING",ru:"–°–µ–Ω—Å–æ—Ä–∏–∫–∞"},{en:"THINKING",ru:"–õ–æ–≥–∏–∫–∞"},{en:"JUDGING",ru:"–ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ"}],
    desc: "–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–π –æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä –ø—Ä–æ—Ü–µ—Å—Å–æ–≤. –í—ã –∑–Ω–∞–µ—Ç–µ, –∫–∞–∫ –¥–æ–≤–µ—Å—Ç–∏ –¥–µ–ª–æ –¥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞.",
    pro: ["–§–∏–Ω–∞–Ω—Å–∏—Å—Ç", "–ë–∞–Ω–∫–∏—Ä", "–û–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π –¥–∏—Ä–µ–∫—Ç–æ—Ä"],
    entPair: "–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞ –∏ –ì–µ–æ–≥—Ä–∞—Ñ–∏—è"
  },
  "ESFJ": {
    name: "GUARDIAN PROVIDER", ruName: "–ö–û–ù–°–£–õ", color: "#1a6b8a",
    traits: [{en:"EXTROVERSION",ru:"–≠–∫—Å—Ç—Ä–∞–≤–µ—Ä—Å–∏—è"},{en:"SENSING",ru:"–°–µ–Ω—Å–æ—Ä–∏–∫–∞"},{en:"FEELING",ru:"–ß—É–≤—Å—Ç–≤–∞"},{en:"JUDGING",ru:"–ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ"}],
    desc: "–î—É—à–∞ –∫–æ–º–ø–∞–Ω–∏–∏. –í—ã —Å—Ç—Ä–µ–º–∏—Ç–µ—Å—å –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å —Å–æ—Ü–∏–∞–ª—å–Ω—É—é –≥–∞—Ä–º–æ–Ω–∏—é –∏ –ø–æ–º–æ–≥–∞—Ç—å –¥—Ä—É–≥–∏–º.",
    pro: ["–ú–µ–Ω–µ–¥–∂–µ—Ä —Å–µ—Ä–≤–∏—Å–∞", "–≠–∫–æ–ª–æ–≥", "–£—á–∏—Ç–µ–ª—å –≥–µ–æ–≥—Ä–∞—Ñ–∏–∏"],
    entPair: "–ë–∏–æ–ª–æ–≥–∏—è –∏ –ì–µ–æ–≥—Ä–∞—Ñ–∏—è"
  },
  "ISTP": {
    name: "ARTISAN CRAFTER", ruName: "–í–ò–†–¢–£–û–ó", color: "#b8860b",
    traits: [{en:"INTROVERSION",ru:"–ò–Ω—Ç—Ä–æ–≤–µ—Ä—Å–∏—è"},{en:"SENSING",ru:"–°–µ–Ω—Å–æ—Ä–∏–∫–∞"},{en:"THINKING",ru:"–õ–æ–≥–∏–∫–∞"},{en:"PERCEIVING",ru:"–ü–æ–∏—Å–∫"}],
    desc: "–ú–∞—Å—Ç–µ—Ä –Ω–∞ –≤—Å–µ —Ä—É–∫–∏. –í—ã –∏–∑—É—á–∞–µ—Ç–µ –º–∏—Ä —á–µ—Ä–µ–∑ –ø—Ä–∞–∫—Ç–∏–∫—É –∏ —Ä–µ—à–µ–Ω–∏–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –∑–∞–¥–∞—á.",
    pro: ["–ò–Ω–∂–µ–Ω–µ—Ä-–º–µ—Ö–∞–Ω–∏–∫", "–•–∏–º–∏–∫-—Ç–µ—Ö–Ω–æ–ª–æ–≥", "–ü–∏–ª–æ—Ç"],
    entPair: "–•–∏–º–∏—è –∏ –§–∏–∑–∏–∫–∞"
  },
  "ISFP": {
    name: "ARTISAN COMPOSER", ruName: "–ê–†–¢–ò–°–¢", color: "#b8860b",
    traits: [{en:"INTROVERSION",ru:"–ò–Ω—Ç—Ä–æ–≤–µ—Ä—Å–∏—è"},{en:"SENSING",ru:"–°–µ–Ω—Å–æ—Ä–∏–∫–∞"},{en:"FEELING",ru:"–ß—É–≤—Å—Ç–≤–∞"},{en:"PERCEIVING",ru:"–ü–æ–∏—Å–∫"}],
    desc: "–¢–≤–æ—Ä—á–µ—Å–∫–∞—è –∏ –≥–∏–±–∫–∞—è –ª–∏—á–Ω–æ—Å—Ç—å. –í—ã –∂–∏–≤–µ—Ç–µ –º–æ–º–µ–Ω—Ç–æ–º –∏ —Ü–µ–Ω–∏—Ç–µ —ç—Å—Ç–µ—Ç–∏–∫—É.",
    pro: ["–î–∏–∑–∞–π–Ω–µ—Ä", "–•—É–¥–æ–∂–Ω–∏–∫", "–ú–æ–¥–µ–ª—å–µ—Ä", "–§–æ—Ç–æ–≥—Ä–∞—Ñ"],
    entPair: "–¢–≤–æ—Ä—á–µ—Å–∫–∏–π —ç–∫–∑–∞–º–µ–Ω –∏ –¢–≤–æ—Ä—á–µ—Å–∫–∏–π —ç–∫–∑–∞–º–µ–Ω"
  },
  "ESTP": {
    name: "ARTISAN PERFORMER", ruName: "–î–ï–õ–ï–¶", color: "#b8860b",
    traits: [{en:"EXTROVERSION",ru:"–≠–∫—Å—Ç—Ä–∞–≤–µ—Ä—Å–∏—è"},{en:"SENSING",ru:"–°–µ–Ω—Å–æ—Ä–∏–∫–∞"},{en:"THINKING",ru:"–õ–æ–≥–∏–∫–∞"},{en:"PERCEIVING",ru:"–ü–æ–∏—Å–∫"}],
    desc: "–ß–µ–ª–æ–≤–µ–∫ –¥–µ–π—Å—Ç–≤–∏—è. –í—ã –º–≥–Ω–æ–≤–µ–Ω–Ω–æ –∞–¥–∞–ø—Ç–∏—Ä—É–µ—Ç–µ—Å—å –∏ —É–º–µ–µ—Ç–µ –∏–∑–≤–ª–µ–∫–∞—Ç—å –ø–æ–ª—å–∑—É –∏–∑ —Ä–∏—Å–∫–∞.",
    pro: ["–ë–∏–∑–Ω–µ—Å–º–µ–Ω", "–°—Ç—Ä–æ–∏—Ç–µ–ª—å", "–°–ø–æ—Ä—Ç—Å–º–µ–Ω", "–¢–æ—Ä–≥–æ–≤—ã–π –∞–≥–µ–Ω—Ç"],
    entPair: "–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞ –∏ –§–∏–∑–∏–∫–∞"
  },
  "ESFP": {
    name: "ARTISAN PERFORMER", ruName: "–†–ê–ó–í–õ–ï–ö–ê–¢–ï–õ–¨", color: "#b8860b",
    traits: [{en:"EXTROVERSION",ru:"–≠–∫—Å—Ç—Ä–∞–≤–µ—Ä—Å–∏—è"},{en:"SENSING",ru:"–°–µ–Ω—Å–æ—Ä–∏–∫–∞"},{en:"FEELING",ru:"–ß—É–≤—Å—Ç–≤–∞"},{en:"PERCEIVING",ru:"–ü–æ–∏—Å–∫"}],
    desc: "–í—ã ‚Äî –∏—Å—Ç–æ—á–Ω–∏–∫ —ç–Ω–µ—Ä–≥–∏–∏. –£–º–µ–µ—Ç–µ –∑–∞–∂–∏–≥–∞—Ç—å –ª—é–¥–µ–π –∏ –ø—Ä–µ–≤—Ä–∞—â–∞—Ç—å –∂–∏–∑–Ω—å –≤ —Å–æ–±—ã—Ç–∏–µ.",
    pro: ["–ê–∫—Ç–µ—Ä", "–í–µ–¥—É—â–∏–π", "–û—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π"],
    entPair: "–¢–≤–æ—Ä—á–µ—Å–∫–∏–π —ç–∫–∑–∞–º–µ–Ω –∏ –¢–≤–æ—Ä—á–µ—Å–∫–∏–π —ç–∫–∑–∞–º–µ–Ω"
  }
};

const QUESTIONS = [
  // E vs I
  {dim:"E/I", q:"–ü–æ—Å–ª–µ –¥–æ–ª–≥–æ–≥–æ –¥–Ω—è –≤ —à—É–º–Ω–æ–π –∫–æ–º–ø–∞–Ω–∏–∏ –≤—ã –æ–±—ã—á–Ω–æ —á—É–≤—Å—Ç–≤—É–µ—Ç–µ...", a:"I", b:"E", ta:"–£—Å—Ç–∞–ª–æ—Å—Ç—å –∏ –∂–µ–ª–∞–Ω–∏–µ –ø–æ–±—ã—Ç—å –æ–¥–Ω–æ–º—É", tb:"–ü—Ä–∏–ª–∏–≤ –±–æ–¥—Ä–æ—Å—Ç–∏ –∏ –≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏–µ"},
  {dim:"E/I", q:"–ü—Ä–∏ –∑–Ω–∞–∫–æ–º—Å—Ç–≤–µ —Å –Ω–æ–≤—ã–º–∏ –ª—é–¥—å–º–∏ –≤—ã —á–∞—â–µ...", a:"I", b:"E", ta:"–°–ª—É—à–∞–µ—Ç–µ –∏ –ø—Ä–∏—Å–º–∞—Ç—Ä–∏–≤–∞–µ—Ç–µ—Å—å", tb:"–ê–∫—Ç–∏–≤–Ω–æ –≤–µ–¥–µ—Ç–µ –¥–∏–∞–ª–æ–≥"},
  {dim:"E/I", q:"–ì–¥–µ –≤—ã –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ—Ç–µ —Ä–∞–±–æ—Ç–∞—Ç—å?", a:"I", b:"E", ta:"–í —Ç–∏—à–∏–Ω–µ –∏ —É–µ–¥–∏–Ω–µ–Ω–∏–∏", tb:"–í –æ–∂–∏–≤–ª–µ–Ω–Ω–æ–º –æ—Ñ–∏—Å–µ —Å –∫–æ–ª–ª–µ–≥–∞–º–∏"},
  // S vs N
  {dim:"S/N", q:"–ü—Ä–∏ –∏–∑—É—á–µ–Ω–∏–∏ –Ω–æ–≤–æ–π —Ç–µ–º—ã –≤–∞–º –≤–∞–∂–Ω–µ–µ...", a:"S", b:"N", ta:"–ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ñ–∞–∫—Ç—ã –∏ –ø—Ä–∞–∫—Ç–∏–∫–∞", tb:"–¢–µ–æ—Ä–∏–∏ –∏ –æ–±—â–∞—è –∏–¥–µ—è"},
  {dim:"S/N", q:"–í—ã —Å–∫–ª–æ–Ω–Ω—ã –¥–æ–≤–µ—Ä—è—Ç—å –±–æ–ª—å—à–µ...", a:"S", b:"N", ta:"–°–≤–æ–µ–º—É –ø—Ä–æ—à–ª–æ–º—É –æ–ø—ã—Ç—É", tb:"–°–≤–æ–µ–π –∏–Ω—Ç—É–∏—Ü–∏–∏ –∏ –ø—Ä–µ–¥—á—É–≤—Å—Ç–≤–∏—è–º"},
  {dim:"S/N", q:"–ö–∞–∫ –≤—ã –æ–±—ä—è—Å–Ω—è–µ—Ç–µ –∑–∞–¥–∞—á—É?", a:"S", b:"N", ta:"–ü–æ—à–∞–≥–æ–≤–æ –∏ –¥–µ—Ç–∞–ª—å–Ω–æ", tb:"–í –æ–±—â–∏—Ö —á–µ—Ä—Ç–∞—Ö, –ø–µ—Ä–µ–¥–∞–≤–∞—è —Å—É—Ç—å"},
  // T vs F
  {dim:"T/F", q:"–ü—Ä–∏ –ø—Ä–∏–Ω—è—Ç–∏–∏ —Ä–µ—à–µ–Ω–∏–π –≤—ã —á–∞—â–µ –æ–ø–∏—Ä–∞–µ—Ç–µ—Å—å –Ω–∞...", a:"T", b:"F", ta:"–õ–æ–≥–∏–∫—É –∏ –æ–±—ä–µ–∫—Ç–∏–≤–Ω—ã–µ —Ñ–∞–∫—Ç—ã", tb:"–õ–∏—á–Ω—ã–µ —Ü–µ–Ω–Ω–æ—Å—Ç–∏ –∏ —á—É–≤—Å—Ç–≤–∞ –ª—é–¥–µ–π"},
  {dim:"T/F", q:"–ß—Ç–æ –¥–ª—è –≤–∞—Å –≤–∞–∂–Ω–µ–µ –≤ —Å–ø–æ—Ä–µ?", a:"T", b:"F", ta:"–ù–∞–π—Ç–∏ –∏—Å—Ç–∏–Ω—É –ª—é–±–æ–π —Ü–µ–Ω–æ–π", tb:"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ö–æ—Ä–æ—à–∏–µ –æ—Ç–Ω–æ—à–µ–Ω–∏—è"},
  {dim:"T/F", q:"–í–∞—Å –ª–µ–≥—á–µ —É–±–µ–¥–∏—Ç—å...", a:"T", b:"F", ta:"–†–∞—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º–∏ –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏", tb:"–≠–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º —Ä–∞—Å—Å–∫–∞–∑–æ–º"},
  // J vs P
  {dim:"J/P", q:"–í–∞—à–µ —Ä–∞–±–æ—á–µ–µ –º–µ—Å—Ç–æ –æ–±—ã—á–Ω–æ...", a:"J", b:"P", ta:"–û—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω–æ –∏ –ø—Ä–∏–±—Ä–∞–Ω–æ", tb:"–•–∞–æ—Ç–∏—á–Ω–æ, –Ω–æ –≤–∞–º –≤ –Ω–µ–º –∫–æ–º—Ñ–æ—Ä—Ç–Ω–æ"},
  {dim:"J/P", q:"–ö–∞–∫ –≤—ã –æ—Ç–Ω–æ—Å–∏—Ç–µ—Å—å –∫ –ø–ª–∞–Ω–∞–º?", a:"J", b:"P", ta:"–õ—é–±–ª—é —á–µ—Ç–∫–∏–µ –≥—Ä–∞—Ñ–∏–∫–∏ –∏ —Å–ø–∏—Å–∫–∏ –¥–µ–ª", tb:"–ü—Ä–µ–¥–ø–æ—á–∏—Ç–∞—é –≥–∏–±–∫–æ—Å—Ç—å –∏ —Å–ø–æ–Ω—Ç–∞–Ω–Ω–æ—Å—Ç—å"},
  {dim:"J/P", q:"–î–µ–¥–ª–∞–π–Ω –¥–ª—è –≤–∞—Å ‚Äî —ç—Ç–æ...", a:"J", b:"P", ta:"–û—Ä–∏–µ–Ω—Ç–∏—Ä, —á—Ç–æ–±—ã –∑–∞–∫–æ–Ω—á–∏—Ç—å –∑–∞—Ä–∞–Ω–µ–µ", tb:"–°—Ç–∏–º—É–ª, —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å –≤ –ø–æ—Å–ª–µ–¥–Ω–∏–π –º–æ–º–µ–Ω—Ç"}
];

let state = {
  screen: 'welcome',
  idx: 0,
  scores: {E:0, I:0, S:0, N:0, T:0, F:0, J:0, P:0},
  formData: { name: '', phone: '' },
  aiLoading: false,
  aiResult: '',
  rid: null
};

function render() {
  const app = document.getElementById('app');
  if (state.screen === 'welcome') renderWelcome(app);
  else if (state.screen === 'quiz') renderQuiz(app);
  else if (state.screen === 'form') renderForm(app);
  else if (state.screen === 'result') renderResult(app);
}

function renderWelcome(app) {
  app.innerHTML = `
    <div class="welcome">
      <h1 class="welcome-title">–¢–≤–æ–π –ø—É—Ç—å –∫ <em>–≥—Ä–∞–Ω—Ç—É 2025</em></h1>
      <p class="welcome-sub">–ü—Ä–æ–π–¥–∏ —Ç–µ—Å—Ç –Ω–∞ —Ç–∏–ø –ª–∏—á–Ω–æ—Å—Ç–∏ –æ—Ç –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω–æ–≥–æ —Ü–µ–Ω—Ç—Ä–∞ Aiplus –∏ —É–∑–Ω–∞–π, –∫–∞–∫–∏–µ –ø—Ä–µ–¥–º–µ—Ç—ã –ï–ù–¢ –ø–æ–¥—Ö–æ–¥—è—Ç –∏–º–µ–Ω–Ω–æ —Ç–µ–±–µ.</p>
      <button class="btn-start" onclick="start()">–ù–∞—á–∞—Ç—å —Ç–µ—Å—Ç ‚Üí</button>
    </div>
  `;
}

function start() {
  state.screen = 'quiz';
  state.idx = 0;
  state.scores = {E:0, I:0, S:0, N:0, T:0, F:0, J:0, P:0};
  render();
}

function renderQuiz(app) {
  const q = QUESTIONS[state.idx];
  const pct = Math.round((state.idx / QUESTIONS.length) * 100);
  app.innerHTML = `
    <div class="progress-wrap"><div class="progress-bar" style="width:${pct}%"></div></div>
    <div class="progress-label">–í–æ–ø—Ä–æ—Å ${state.idx + 1} –∏–∑ ${QUESTIONS.length}</div>
    <div class="q-card">
      <div class="q-dim">${q.dim}</div>
      <div class="q-text">${q.q}</div>
      <div class="options">
        <button class="opt-btn" onclick="next('${q.a}')">${q.ta}</button>
        <button class="opt-btn" onclick="next('${q.b}')">${q.tb}</button>
      </div>
    </div>
  `;
}

function next(val) {
  state.scores[val]++;
  if (state.idx < QUESTIONS.length - 1) {
    state.idx++;
    render();
  } else {
    state.screen = 'form';
    render();
  }
}

function renderForm(app) {
  app.innerHTML = `
    <div class="form-card">
      <h2 class="welcome-title" style="font-size:32px; margin-bottom:12px;">–ü–æ—á—Ç–∏ –≥–æ—Ç–æ–≤–æ!</h2>
      <p style="margin-bottom:32px; color:var(--muted); font-size:14px;">–í–≤–µ–¥–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –ø–æ–ª–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –ï–ù–¢.</p>
      
      <div class="inp-group">
        <label>–ö–ê–ö –í–ê–° –ó–û–í–£–¢?</label>
        <input type="text" id="inpName" class="inp" placeholder="–í–≤–µ–¥–∏—Ç–µ –∏–º—è">
      </div>
      
      <div class="inp-group">
        <label>–ù–û–ú–ï–† –¢–ï–õ–ï–§–û–ù–ê</label>
        <input type="tel" id="inpPhone" class="inp" placeholder="+7 (___) ___-__-__">
      </div>
      
      <button class="btn-start" style="width:100%; margin-top:20px;" onclick="submit()">–ü–æ–ª—É—á–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç ‚Üí</button>
    </div>
  `;
}

async function submit() {
  const name = document.getElementById('inpName').value.trim();
  const phone = document.getElementById('inpPhone').value.trim();
  
  if (!name || !phone) {
    alert("–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è");
    return;
  }
  
  state.formData = { name, phone };
  state.screen = 'result';
  state.aiLoading = true;
  render();

  const mbti = calcMBTI();
  const payload = { ...state.formData, mbti };

  try {
    const res = await fetch(`${SHEETS_URL}?type=generate&data=${encodeURIComponent(JSON.stringify(payload))}`);
    const json = await res.json();
    if (json.success) {
      state.aiResult = json.result;
      state.rid = json.rid;
    } else {
      state.aiResult = "–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—É—é —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—é.";
    }
  } catch(e) {
    state.aiResult = "–û—à–∏–±–∫–∞ —Å–≤—è–∑–∏ —Å —Å–µ—Ä–≤–µ—Ä–æ–º.";
  } finally {
    state.aiLoading = false;
    render();
  }
}

function calcMBTI() {
  const s = state.scores;
  let type = '';
  type += (s.E >= s.I) ? 'E' : 'I';
  type += (s.S >= s.N) ? 'S' : 'N';
  type += (s.T >= s.F) ? 'T' : 'F';
  type += (s.J >= s.P) ? 'J' : 'P';
  return type;
}

function renderResult(app) {
  const type = calcMBTI();
  const info = MBTI_INFO[type];
  
  app.innerHTML = `
    <div class="slide" style="--slide-color:${info.color}">
      <div class="slide-top">AIPLUS √ó –¢–í–û–ô –†–ï–ó–£–õ–¨–¢–ê–¢</div>
      <div class="slide-body">
        <div class="slide-left">
          <div class="mbti-big">${type}</div>
          <div class="mbti-name">${info.ruName}</div>
          <div>
            ${info.traits.map(t => `<span class="trait-tag">${t.ru}</span>`).join('')}
          </div>
        </div>
        <div class="slide-right">
          <div class="mbti-desc">${info.desc}</div>
          <div class="block-title">üë∑ –ü–û–î–•–û–î–Ø–©–ò–ï –ü–†–û–§–ï–°–°–ò–ò:</div>
          <div class="pro-list">
            ${info.pro.map(p => `<span class="pro-item">${p}</span>`).join('')}
          </div>
        </div>
      </div>
    </div>

    <div class="subjects-block">
      <div class="block-title">üìö –¢–í–û–Ø –ü–ê–†–ê –ü–†–ï–î–ú–ï–¢–û–í –ï–ù–¢:</div>
      <div style="background:#f7f5f0; padding:24px; border-radius:16px; border:3px solid var(--dark); text-align:center;">
        <div style="font-family:'Unbounded'; font-size:20px; font-weight:900;">${info.entPair}</div>
        <div style="color:var(--muted); font-size:13px; margin-top:8px;">–≠—Ç–∞ –∫–æ–º–±–∏–Ω–∞—Ü–∏—è –∏–¥–µ–∞–ª—å–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –≤–∞—à–µ–º—É —Å–∫–ª–∞–¥—É —É–º–∞ –¥–ª—è –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏—è –Ω–∞ –≥—Ä–∞–Ω—Ç</div>
      </div>
    </div>

    ${state.aiLoading ? 
      `<div class="ai-block" style="text-align:center;">–ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º –≤–∞—à –ø—Ä–æ—Ñ–∏–ª—å...</div>` :
      `<div class="ai-block">
        <div class="block-title">ü§ñ –°–û–í–ï–¢ –û–¢ AIPLUS AI:</div>
        <div class="ai-text">${state.aiResult}</div>
      </div>`
    }

    <div style="margin-top:40px; text-align:center;">
      <a href="https://wa.me/77073333333?text=–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ!%20–Ø%20–ø—Ä–æ—à–µ–ª%20—Ç–µ—Å—Ç,%20–º–æ–π%20—Ç–∏–ø%20${type}.%20–•–æ—á—É%20–Ω–∞%20–∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—é" target="_blank" style="background:#1a1a1a;color:#c8f03c;text-decoration:none;padding:16px 32px;border-radius:50px;font-family:'Unbounded',sans-serif;font-size:13px;font-weight:700;display:inline-block;">
        üì± –ó–∞–ø–∏—Å–∞—Ç—å—Å—è –≤ WhatsApp
      </a>
    </div>

    <button class="restart-btn" onclick="location.reload()">‚Üê –ü—Ä–æ–π—Ç–∏ —Ç–µ—Å—Ç —Å–Ω–æ–≤–∞</button>
  `;
}

render();
</script>
</body>
</html>