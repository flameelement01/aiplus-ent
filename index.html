<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aiplus — Профориентация 2026</title>
    <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        :root { --bg: #0a0a0a; --card: #141414; --accent: #d4f53c; --text: #fff; --border: rgba(255,255,255,0.1); }
        body { background: var(--bg); color: var(--text); font-family: 'Manrope', sans-serif; margin: 0; }
        .container { max-width: 600px; margin: 0 auto; padding: 20px; }
        .card { background: var(--card); border: 1px solid var(--border); border-radius: 30px; padding: 30px; box-shadow: 0 20px 50px rgba(0,0,0,0.5); animation: fadeIn 0.5s; }
        .progress { height: 6px; background: #222; border-radius: 10px; margin-bottom: 25px; overflow: hidden; }
        .progress-fill { height: 100%; background: var(--accent); width: 0%; transition: 0.4s; box-shadow: 0 0 15px var(--accent); }
        .type-big { font-size: 80px; font-weight: 900; color: var(--accent); letter-spacing: -4px; margin: 10px 0; }
        .q-text { font-size: 22px; font-weight: 700; margin-bottom: 25px; }
        .opt { background: #1f1f1f; border: 1px solid var(--border); padding: 18px; border-radius: 15px; margin-bottom: 12px; cursor: pointer; transition: 0.2s; }
        .opt:hover { border-color: var(--accent); transform: scale(1.02); }
        .btn { background: var(--accent); color: #000; border: none; padding: 20px; border-radius: 15px; font-weight: 900; width: 100%; cursor: pointer; font-size: 16px; text-transform: uppercase; }
        input { width: 100%; padding: 18px; background: #1f1f1f; border: 1px solid var(--border); border-radius: 15px; color: #fff; margin-bottom: 15px; font-size: 16px; box-sizing: border-box; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        .spinner { border: 4px solid rgba(212,245,60,0.1); border-top: 4px solid var(--accent); border-radius: 50%; width: 40px; height: 40px; animation: spin 1s linear infinite; margin: 20px auto; }
        @keyframes spin { 100% { transform: rotate(360deg); } }
    </style>
</head>
<body>
<div class="container" id="app">
    <div class="card" style="text-align: center; margin-top: 50px;">
        <h1 style="font-size: 42px;">Ai<span>plus</span></h1>
        <p style="color: #888;">Узнай свой тип личности и шансы на грант по итогам 2025 года</p>
        <button class="btn" onclick="start()">Начать тест (30 вопросов) →</button>
    </div>
</div>

<script>
const SHEETS_URL = "https://script.google.com/macros/s/AKfycbzK8YLTEfhIMVbpnvJY6Gw2U1A83c_jD_EqRFDZ0qDWVagkesTv97YYnfdMxfdL2s3LGA/exec";

const MBTI_MAP = {
    "INTJ": "Архитектор. Стратег с планом на все случаи жизни. Идеально: IT, Инженерия, Наука.",
    "INTP": "Ученый. Изобретатель и аналитик. Идеально: Программирование, Архитектура.",
    "ENTJ": "Командир. Решительный лидер. Идеально: Менеджмент, Бизнес, Юриспруденция.",
    "ENTP": "Полемист. Умный и любознательный мыслитель. Идеально: Маркетинг, Дизайн.",
    "INFJ": "Активист. Идеалист-вдохновитель. Идеально: Психология, Образование.",
    "INFP": "Посредник. Добрый и творческий. Идеально: Искусство, Филология.",
    "ENFJ": "Тренер. Харизматичный лидер. Идеально: Преподавание, HR, Политика.",
    "ENFP": "Борец. Свободный дух и креатор. Идеально: Журналистика, Ивент-сфера.",
    "ISTJ": "Администратор. Прагматик и реалист. Идеально: Финансы, Логистика.",
    "ISFJ": "Защитник. Ответственный помощник. Идеально: Медицина, Соцсфера.",
    "ESTJ": "Менеджер. Организатор порядка. Идеально: Госслужба, Военное дело.",
    "ESFJ": "Консул. Заботливый и общительный. Идеально: Сервис, Продажи.",
    "ISTP": "Виртуоз. Мастер на все руки. Идеально: Техника, Аналитика данных.",
    "ISFP": "Артист. Творческий искатель. Идеально: Мода, Графический дизайн.",
    "ESTP": "Делец. Смелый предприниматель. Идеально: Спорт, Торговля на бирже.",
    "ESFP": "Развлекатель. Душа компании. Идеально: Шоу-бизнес, Туризм."
};

const QUESTIONS = [
    {q: "Как вы пополняете энергию?", a:"E", b:"I", ta:"Общение с людьми", tb:"Время наедине с собой"},
    {q: "На что вы чаще обращаете внимание?", a:"S", b:"N", ta:"Реальные факты и детали", tb:"Идеи и возможности будущего"},
    {q: "Как вы принимаете решения?", a:"T", b:"F", ta:"Логический анализ", tb:"Чувства и ценности людей"},
    {q: "Ваш стиль жизни:", a:"J", b:"P", ta:"Планирование и порядок", tb:"Спонтанность и гибкость"},
    // ... здесь будут еще 26 вопросов (добавь аналогично для точности)
    {q: "В компании вы обычно:", a:"E", b:"I", ta:"Много говорите", tb:"Больше слушаете"},
    {q: "Вам ближе изучение:", a:"S", b:"N", ta:"Практических навыков", tb:"Теорий и концепций"}
]; // Добавь вопросы до 30 по той же структуре

let cur = 0, scores = {E:0,I:0,S:0,N:0,T:0,F:0,J:0,P:0}, u = {name:"", phone:""};

function start() { cur = 0; render(); }
function ans(k) { scores[k]++; cur++; render(); }

function render() {
    const app = document.getElementById("app");
    if (cur < QUESTIONS.length) {
        const q = QUESTIONS[cur];
        app.innerHTML = `
            <div class="progress"><div class="progress-fill" style="width:${(cur/QUESTIONS.length)*100}%"></div></div>
            <div class="card">
                <div class="q-text">${q.q}</div>
                <div class="opt" onclick="ans('${q.a}')">${q.ta}</div>
                <div class="opt" onclick="ans('${q.b}')">${q.tb}</div>
            </div>`;
    } else if (!u.phone) {
        app.innerHTML = `
            <div class="card">
                <h2>Анализ почти готов!</h2>
                <input type="text" id="n" placeholder="Твое имя">
                <input type="tel" id="p" placeholder="87XXXXXXXXX">
                <button class="btn" onclick="save()">Узнать результат →</button>
            </div>`;
    }
}

async function save() {
    u.name = document.getElementById("n").value; u.phone = document.getElementById("p").value;
    if (!u.name || !u.phone) return alert("Заполни поля!");
    const app = document.getElementById("app");
    app.innerHTML = `<div class="card" style="text-align:center;"><div class="spinner"></div><p>Нейросеть Aiplus анализирует твои шансы на грант...</p></div>`;
    
    const type = (scores.E>=scores.I?'E':'I')+(scores.S>=scores.N?'S':'N')+(scores.T>=scores.F?'T':'F')+(scores.J>=scores.P?'J':'P');
    const prompt = `Ученик ${u.name}, тип ${type}. На основе данных ЕНТ 2025: предложи 3 профессии, укажи профильные предметы и пороговые баллы (Право 75, Мед 70, НацВУЗ 65). Напиши проходные баллы на грант.`;

    try {
        const res = await fetch(`${SHEETS_URL}?type=generate&prompt=${encodeURIComponent(prompt)}&data=${encodeURIComponent(JSON.stringify({...u, mbti:type}))}`);
        const data = await res.json();
        app.innerHTML = `
            <div class="card fade-in">
                <div class="type-big">${type}</div>
                <p style="font-weight:700; color:var(--accent);">${MBTI_MAP[type]}</p>
                <div style="line-height:1.7; font-size:15px; border-top:1px solid #333; padding-top:20px;">${data.result}</div>
                <button class="btn" style="margin-top:20px; background:none; border:1px solid var(--accent); color:var(--accent);" onclick="location.reload()">Пройти еще раз</button>
            </div>`;
    } catch(e) { app.innerHTML = `<div class="card"><h2>Готово!</h2><p>Данные в таблице. Твой тип: ${type}.</p></div>`; }
}
</script>
</body>
</html>
